(function(t){function e(e){for(var a,i,s=e[0],l=e[1],c=e[2],u=0,m=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/kanban-board-vue-js/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0439":function(t,e,n){t.exports=n.p+"img/plus.b4e7124a.svg"},"090b":function(t,e,n){"use strict";n.r(e);var a=n("5530"),r=n("2593"),o={buttons:{addFirstColumn:"Add your first column",addColumn:"Add another column",addFirstCard:"Add your first card",addCard:"Add another card",saveColumn:"Add column",saveCard:"Add card"},fields:{title:"'Column title'",card:"'Card title'"},placeholders:{title:"Enter column title",card:"Enter card title"},validation:Object(a["a"])({uniqueColumnName:"Column title must be unique"},r.messages),confirmation:{column:"Are you sure you want to delete this column?",card:"Are you sure you want to delete this card?"}};e["default"]=o},"29d8":function(t,e,n){},3640:function(t,e,n){t.exports=n.p+"img/delete.de1c34cf.svg"},4790:function(t,e,n){var a={"./en.js":"090b","./ru.js":"b9ee"};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=o,t.exports=r,r.id="4790"},"56d7":function(t,e,n){"use strict";n.r(e);n("4de4"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"kanban-board",attrs:{id:"app"}},[n("KanbanBoard")],1)},o=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"kanban-board__columns-list"},[t._l(t.kanbanBoard,(function(e){return a("KanbanBoardColumn",{key:e.id,attrs:{title:e.title,cards:e.cards},on:{"store-column":function(n){return t.storeColumn(e.id,n)},"update-column":function(n){return t.updateColumn(e.id,n)},"delete-column":function(n){return t.deleteColumn(e.id,n)}}})})),a("li",{staticClass:"kanban-board__column-wrapper"},[a("div",{staticClass:"kanban-board__column"},[a("div",{staticClass:"kanban-board__column-footer"},[a("button",{staticClass:"kanban-board__add-button active-element",on:{click:t.addColumn}},[a("img",{attrs:{src:n("0439"),alt:"plus icon"}}),t._v(" "+t._s(t.kanbanBoard.length?t.$t("buttons.addColumn"):t.$t("buttons.addFirstColumn"))+" ")])])])])],2)},s=[],l=(n("99af"),n("c740"),n("fb6a"),n("2909")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"kanban-board__column-wrapper"},[a("div",{staticClass:"kanban-board__column"},[t.showTitleForm?[a("div",{staticClass:"kanban-board__column-block"},[a("ValidationProvider",{ref:"titleForm",attrs:{name:"title",rules:"required|uniqueColumnName"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,r=e.failed;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.columnTitle,expression:"formData.columnTitle"}],ref:"titleField",class:["kanban-board__form-control",{"is-invalid":r}],attrs:{type:"text",placeholder:t.$t("placeholders.title")},domProps:{value:t.formData.columnTitle},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.submitTitleForm(e))},input:function(e){e.target.composing||t.$set(t.formData,"columnTitle",e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}],null,!1,2125724822)})],1),a("div",{staticClass:"kanban-board__column-footer"},[a("button",{staticClass:"kanban-board__save-button active-element",on:{click:t.submitTitleForm}},[t._v(" "+t._s(t.$t("buttons.saveColumn"))+" ")]),a("div",{staticClass:"spacer"}),a("button",{staticClass:"kanban-board__close-button active-element",on:{click:t.disableTitleForm}},[a("img",{attrs:{src:n("bc49"),alt:"cross icon"}})])])]:[a("div",{staticClass:"kanban-board__column-header"},[a("h4",{staticClass:"kanban-board__column-title"},[t._v(t._s(t._f("clipText")(t.title)))]),a("button",{staticClass:"kanban-board__icon-button active-element",on:{click:t.deleteColumn}},[a("img",{attrs:{src:n("3640"),alt:"trash icon"}})])]),a("Draggable",{class:["kanban-board__cards-list",{"kanban-board__cards-list--empty":!t.columnItems.length},{"kanban-board__cards-list--dragging":t.isDragging}],attrs:{tag:"ul",group:"cards","ghost-class":"kanban-board__card-wrapper--ghost","drag-class":"kanban-board__card-wrapper--drag",filter:t.filterSelectors,"prevent-on-filter":!1,"invert-swap":!0},on:{start:t.onDragStart,end:t.onDragEnd},model:{value:t.columnItems,callback:function(e){t.columnItems=e},expression:"columnItems"}},t._l(t.columnItems,(function(e){return a("KanbanBoardColumnCard",{key:e.id,ref:"card-"+e.id,refInFor:!0,attrs:{id:e.id,title:e.title},on:{"update-card":function(n){return t.updateCard(e.id,n)},"delete-card":function(){return t.deleteCard(e.id)}}})})),1),t.showCardForm?a("div",{staticClass:"kanban-board__column-block"},[a("ValidationProvider",{ref:"cardForm",attrs:{name:"card",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,r=e.failed;return[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.cardTitle,expression:"formData.cardTitle"}],ref:"cardField",class:["kanban-board__form-control kanban-board__form-control--card-input",{"is-invalid":r}],attrs:{placeholder:t.$t("placeholders.card")},domProps:{value:t.formData.cardTitle},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.submitCardForm(e))},input:function(e){e.target.composing||t.$set(t.formData,"cardTitle",e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}],null,!1,2151967686)})],1):t._e(),a("div",{staticClass:"kanban-board__column-footer"},[t.showCardForm?[a("button",{staticClass:"kanban-board__save-button active-element",on:{click:t.submitCardForm}},[t._v(" "+t._s(t.$t("buttons.saveCard"))+" ")]),a("div",{staticClass:"spacer"}),a("button",{staticClass:"kanban-board__close-button active-element",on:{click:t.disableCardForm}},[a("img",{attrs:{src:n("bc49"),alt:"cross icon"}})])]:[a("button",{staticClass:"kanban-board__add-button active-element",on:{click:t.enableCardForm}},[a("img",{attrs:{src:n("0439"),alt:"plus icon"}}),t._v(" "+t._s(t.columnItems.length?t.$t("buttons.addCard"):t.$t("buttons.addFirstCard"))+" ")])]],2)],a("ModalWindow",{ref:"confirmModal",attrs:{text:t.$t("confirmation.column")}})],2)])},d=[],u=(n("c975"),n("d81d"),n("96cf"),n("1da1")),m=n("310e"),f=n.n(m),b=n("7bb1"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"kanban-board__card-wrapper"},[a("div",{staticClass:"kanban-board__card"},[t.editMode?a("ValidationProvider",{ref:"editForm",attrs:{name:"card",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,r=e.failed;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.title,expression:"formData.title"}],ref:"editField",class:["kanban-board__form-control","kanban-board__form-control--edit-input",{"is-invalid":r}],attrs:{type:"text",placeholder:t.$t("placeholders.card")},domProps:{value:t.formData.title},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.submitEditForm(e))},input:function(e){e.target.composing||t.$set(t.formData,"title",e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}],null,!1,744687687)}):a("div",{staticClass:"kanban-board__card-content"},[a("ClippedText",{ref:"title",attrs:{value:t.title}})],1),a("div",{staticClass:"kanban-board__card-actions"},[a("button",{staticClass:"kanban-board__icon-button active-element",on:{click:t.toggleEditForm}},[a("img",{attrs:{src:n("77dd"),alt:"edit icon"}})]),a("button",{staticClass:"kanban-board__icon-button active-element",on:{click:t.deleteCard}},[a("img",{attrs:{src:n("3640"),alt:"trash icon"}})])])],1),a("ModalWindow",{ref:"confirmModal",attrs:{text:t.$t("confirmation.card")}})],1)},v=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["modal",{"modal--opened":t.isOpened}],attrs:{tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal__backdrop"}),a("div",{staticClass:"modal__dialog modal__dialog--centered",attrs:{role:"document"}},[a("div",{staticClass:"modal__content"},[t.title?a("div",{staticClass:"modal__header"},[a("h5",{staticClass:"modal__title"},[t._v(t._s(t.title))]),a("button",{staticClass:"modal__close-button active-element",on:{click:t.onCancel}},[a("img",{attrs:{src:n("bc49"),alt:"cross icon"}})])]):t._e(),a("div",{staticClass:"modal__body"},[a("p",[t._v(t._s(t.text))])]),a("div",{staticClass:"modal__footer"},[a("button",{staticClass:"modal__footer-button modal__footer-button--secondary active-element",attrs:{type:"button"},on:{click:t.onCancel}},[t._v(" Cancel ")]),a("button",{staticClass:"modal__footer-button modal__footer-button--primary active-element",attrs:{type:"button"},on:{click:t.onConfirm}},[t._v(" Confirm ")])])])])])},h=[],C={name:"ModalWindow",props:{title:{type:String,default:null},text:{type:String,required:!0}},data:function(){return{isOpened:!1,options:{}}},methods:{onConfirm:function(){if(this.isOpened){var t=this.options,e=t.data,n=t.onSuccess;this.close(),n&&n(e)}},onCancel:function(){if(this.isOpened){var t=this.options,e=t.data,n=t.onCancel;this.close(),n&&n(e)}},open:function(t,e,n){this.options={data:t,onSuccess:e,onCancel:n},this.isOpened=!0},close:function(){this.options={},this.isOpened=!1}}},g=C,k=n("2877"),x=Object(k["a"])(g,_,h,!1,null,null,null),y=x.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"clipped-text"},[n("span",{domProps:{innerHTML:t._s(t.itemText)}}),t._v(" "),n("br"),t.needClipButton?n("a",{staticClass:"clipped-text__toggle-link active-element",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggle(e)}}},[t._v(" "+t._s(t.isClipped?"show more":"show less")+" ")]):t._e()])},w=[],O=(n("a9e3"),{props:{value:{type:String,required:!0},maxLength:{type:Number,default:100}},data:function(){return{isClipped:!0}},computed:{itemText:function(){return this.isClipped?this.clippedText:this.value},clippedText:function(){var t=this.value.indexOf(" ",this.maxLength);return t<0?this.value:this.value.substr(0,t)+"..."},needClipButton:function(){return this.value.length>this.clippedText.length}},methods:{toggle:function(){this.isClipped=!this.isClipped}}}),$=O,D=Object(k["a"])($,F,w,!1,null,null,null),T=D.exports,j={name:"KanbanBoardColumnCard",components:{ValidationProvider:b["a"],ModalWindow:y,ClippedText:T},props:{title:{type:String,required:!0}},data:function(){return{editMode:!1,formData:{title:""}}},methods:{toggleEditForm:function(){this.editMode?this.disableEditForm():this.enableEditForm()},enableEditForm:function(){var t=this;this.formData.title=this.title,this.editMode=!0,this.$nextTick((function(){t.$refs.editField.focus()}))},disableEditForm:function(){this.editMode=!1,this.resetForm()},submitEditForm:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.editForm.validate();case 2:n=e.sent,n.valid&&(a=t.formData.title,t.$emit("update-card",{title:a}),t.editMode=!1,t.resetForm());case 4:case"end":return e.stop()}}),e)})))()},resetForm:function(){this.formData.title="",this.$refs.editForm.reset()},deleteCard:function(){var t=this;this.$refs.confirmModal.open({},(function(){t.$emit("delete-card")}))}}},B=j,E=Object(k["a"])(B,p,v,!1,null,null,null),I=E.exports,M={name:"KanbanBoardColumn",components:{Draggable:f.a,ValidationProvider:b["a"],KanbanBoardColumnCard:I,ModalWindow:y},props:{title:{type:String,required:!0},cards:{type:Array,required:!0}},data:function(){return{isDragging:!1,showCardForm:!1,formData:{columnTitle:"",cardTitle:""},filterSelectors:".kanban-board__form-control--edit-input, .kanban-board__card-actions, .modal"}},computed:{columns:function(){return this.$store.state.columns.map((function(t){return t.title}))},columnItems:{get:function(){return this.cards},set:function(t){this.$emit("update-column",{cards:t})}},showTitleForm:function(){return!this.title&&!this.columnItems.length}},mounted:function(){var t=this;this.showTitleForm&&this.$refs.titleField.focus(),Object(b["c"])("uniqueColumnName",(function(e){return-1===t.columns.indexOf(e)||t.$t("validation.uniqueColumnName")}))},methods:{disableTitleForm:function(){this.$emit("delete-column")},enableCardForm:function(){var t=this;this.showCardForm=!0,this.$nextTick((function(){t.$refs.cardField.focus()}))},disableCardForm:function(){this.showCardForm=!1,this.resetCardForm()},submitTitleForm:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.titleForm.validate();case 2:n=e.sent,n.valid&&(a=t.formData.columnTitle,t.$emit("store-column",{title:a}),t.resetTitleForm());case 4:case"end":return e.stop()}}),e)})))()},submitCardForm:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.cardForm.validate();case 2:n=e.sent,n.valid&&(a=[].concat(Object(l["a"])(t.columnItems),[{id:Date.now(),title:t.formData.cardTitle}]),t.$emit("update-column",{cards:a}),t.showCardForm=!1,t.resetCardForm());case 4:case"end":return e.stop()}}),e)})))()},updateCard:function(t,e){var n=this.columnItems.findIndex((function(e){return e.id===t})),a=this.columnItems.slice(0,n).concat([e].concat(Object(l["a"])(this.columnItems.slice(n+1))));this.$emit("update-column",{cards:a})},deleteCard:function(t){var e=this.columnItems.findIndex((function(e){return e.id===t})),n=this.columnItems.slice(0,e).concat(this.columnItems.slice(e+1));this.$emit("update-column",{cards:n})},resetTitleForm:function(){this.formData.columnTitle="",this.$refs.titleForm.reset()},resetCardForm:function(){this.formData.cardTitle="",this.$refs.cardForm.reset()},deleteColumn:function(){var t=this;this.$refs.confirmModal.open({},(function(){t.$emit("delete-column",!0)}))},onDragStart:function(t){var e=this.$refs["card-".concat(t.item.id)][0]||null;e&&(e.$refs.title.isClipped=!0),this.isDragging=!0},onDragEnd:function(){this.isDragging=!1}}},S=M,P=Object(k["a"])(S,c,d,!1,null,null,null),A=P.exports,N={name:"KanbanBoard",components:{KanbanBoardColumn:A},data:function(){return{kanbanBoard:[]}},computed:{columns:function(){return this.$store.state.columns}},created:function(){this.kanbanBoard=this.columns},methods:{addColumn:function(){this.kanbanBoard=[].concat(Object(l["a"])(this.kanbanBoard),[{id:Date.now(),title:"",cards:[]}])},storeColumn:function(t,e){var n=this.kanbanBoard.findIndex((function(e){return e.id===t})),a=Object.assign({},this.kanbanBoard[n],e);this.$store.dispatch("storeColumn",{index:n,newColumn:a}),this.updateKanbanBoard(n,a)},updateColumn:function(t,e){var n=this.kanbanBoard.findIndex((function(e){return e.id===t})),a=Object.assign({},this.kanbanBoard[n],e);this.$store.dispatch("updateColumn",{index:n,newColumn:a}),this.updateKanbanBoard(n,a)},deleteColumn:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.kanbanBoard.findIndex((function(e){return e.id===t}));e&&this.$store.dispatch("deleteColumn",{index:n}),this.updateKanbanBoard(n)},updateKanbanBoard:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.kanbanBoard=e?this.kanbanBoard.slice(0,t).concat([e].concat(Object(l["a"])(this.kanbanBoard.slice(t+1)))):this.kanbanBoard.slice(0,t).concat(this.kanbanBoard.slice(t+1))}}},q=N,K=Object(k["a"])(q,i,s,!1,null,null,null),L=K.exports,V={name:"App",components:{KanbanBoard:L}},R=V,U=Object(k["a"])(R,r,o,!1,null,null,null),W=U.exports,J=(n("4160"),n("d3b7"),n("ac1f"),n("466d"),n("159b"),n("ddb0"),n("a925"));function z(){var t=n("4790"),e={};return t.keys().forEach((function(n){var a=n.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){var r=a[1];e[r]=t(n).default}})),e}a["a"].use(J["a"]);var H=new J["a"]({locale:Object({NODE_ENV:"production",BASE_URL:"/kanban-board-vue-js/"}).VUE_APP_I18N_LOCALE||"en",fallbackLocale:Object({NODE_ENV:"production",BASE_URL:"/kanban-board-vue-js/"}).VUE_APP_I18N_FALLBACK_LOCALE||"en",messages:z()}),Z=n("2f62"),G={columns:[]},Q=G,X={},Y=X,tt={storeColumn:function(t,e){var n=t.commit;n("storeColumn",e)},updateColumn:function(t,e){var n=t.commit;n("updateColumn",e)},deleteColumn:function(t,e){var n=t.commit;n("deleteColumn",e)}},et=tt,nt=(n("a434"),{storeColumn:function(t,e){var n=e.index,a=e.newColumn;t.columns.splice(n,0,a)},updateColumn:function(t,e){var n=e.index,a=e.newColumn;t.columns=t.columns.slice(0,n).concat([a].concat(Object(l["a"])(t.columns.slice(n+1))))},deleteColumn:function(t,e){var n=e.index;t.columns=t.columns.slice(0,n).concat(t.columns.slice(n+1))}}),at=nt,rt=n("0e44");a["a"].use(Z["a"]);var ot=new Z["a"].Store({state:Q,actions:et,getters:Y,mutations:at,plugins:[Object(rt["a"])()]}),it=n("4c93");Object(b["b"])({defaultMessage:function(t,e){return e._field_=H.t("fields.".concat(t)),H.t("validation.".concat(e._rule_),e)}}),Object(b["c"])("required",it["a"]);n("29d8");var st=100,lt=function(t){if(!t)return null;if(t.length>st){var e=t.indexOf(" ",st);return e<0?t:t.substr(0,e)+"..."}return t};a["a"].config.productionTip=!1,a["a"].filter("clipText",lt),new a["a"]({i18n:H,store:ot,render:function(t){return t(W)}}).$mount("#app")},"77dd":function(t,e,n){t.exports=n.p+"img/pencil.618b94b0.svg"},b9ee:function(t,e,n){"use strict";n.r(e);var a=n("5530"),r=n("8de0"),o={buttons:{addFirstColumn:"Добавить колонку",addColumn:"Добавить еще одну колонку",addFirstCard:"Добавить карточку",addCard:"Добавить еще одну карточку",saveColumn:"Добавить колонку",saveCard:"Добавить карточку"},fields:{title:"'Название колонки'",card:"'Название карточки'"},placeholders:{title:"Введите название колонки",card:"Введите название карточки"},validation:Object(a["a"])({uniqueColumnName:"Название колонки должно быть уникальным"},r.messages),confirmation:{column:"Вы уверены что хотите удалить эту колонку?",card:"Вы уверены что хотите удалить эту карточку?"}};e["default"]=o},bc49:function(t,e,n){t.exports=n.p+"img/cross.e82c0deb.svg"}});
//# sourceMappingURL=app.25082463.js.map