(function(t){function e(e){for(var a,i,s=e[0],l=e[1],c=e[2],u=0,m=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},o={app:0},r=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/kanban-board-vue-js/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0439":function(t,e,n){t.exports=n.p+"img/plus.b4e7124a.svg"},"090b":function(t,e,n){"use strict";n.r(e);var a=n("2593"),o={buttons:{addFirstColumn:"Add your first column",addColumn:"Add another column",addFirstCard:"Add your first card",addCard:"Add another card",saveColumn:"Add column",saveCard:"Add card"},fields:{title:"'Column title'",card:"'Card title'"},placeholders:{title:"Enter column title",card:"Enter card title"},validation:a.messages,confirmation:{column:"Are you sure you want to delete this column?",card:"Are you sure you want to delete this card?"}};e["default"]=o},"29d8":function(t,e,n){},3640:function(t,e,n){t.exports=n.p+"img/delete.de1c34cf.svg"},4790:function(t,e,n){var a={"./en.js":"090b","./ru.js":"b9ee"};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}o.keys=function(){return Object.keys(a)},o.resolve=r,t.exports=o,o.id="4790"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"kanban-board",attrs:{id:"app"}},[n("KanbanBoard")],1)},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"kanban-board__columns-list"},[t._l(t.kanbanBoard,(function(e,n){return a("KanbanBoardColumn",{key:n,attrs:{title:e.title,cards:e.cards},on:{"store-column":function(e){return t.storeColumn(n,e)},"update-column":function(e){return t.updateColumn(n,e)},"delete-column":function(e){return t.deleteColumn(n,e)}}})})),a("li",{staticClass:"kanban-board__column"},[a("div",{staticClass:"kanban-board__column-footer"},[a("button",{staticClass:"kanban-board__add-button active-element",on:{click:t.addColumn}},[a("img",{attrs:{src:n("0439"),alt:"plus icon"}}),t._v(" "+t._s(t.kanbanBoard.length?t.$t("buttons.addColumn"):t.$t("buttons.addFirstColumn"))+" ")])])])],2)},s=[],l=(n("99af"),n("fb6a"),n("2909")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"kanban-board__column"},[t.showTitleForm?[a("div",{staticClass:"kanban-board__column-block"},[a("ValidationProvider",{ref:"titleForm",attrs:{name:"title",mode:"passive",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,o=e.failed;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.columnTitle,expression:"formData.columnTitle"}],ref:"titleField",class:["kanban-board__form-control",{"is-invalid":o}],attrs:{type:"text",placeholder:t.$t("placeholders.title")},domProps:{value:t.formData.columnTitle},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.submitTitleForm(e))},input:function(e){e.target.composing||t.$set(t.formData,"columnTitle",e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}],null,!1,2125724822)})],1),a("div",{staticClass:"kanban-board__column-footer"},[a("button",{staticClass:"kanban-board__save-button active-element",on:{click:t.submitTitleForm}},[t._v(" "+t._s(t.$t("buttons.saveColumn"))+" ")]),a("div",{staticClass:"spacer"}),a("button",{staticClass:"kanban-board__close-button active-element",on:{click:t.disableTitleForm}},[a("img",{attrs:{src:n("bc49"),alt:"cross icon"}})])])]:[a("div",{staticClass:"kanban-board__column-header"},[a("h4",[t._v(t._s(t.title))]),a("button",{staticClass:"kanban-board__icon-button active-element",on:{click:t.deleteColumn}},[a("img",{attrs:{src:n("3640"),alt:"trash icon"}})])]),a("Draggable",{class:["kanban-board__cards-list",{"kanban-board__cards-list--empty":!t.columnItems.length},{"kanban-board__cards-list--dragging":t.isDragging}],attrs:{tag:"ul",group:"cards","ghost-class":"kanban-board__card-wrapper--ghost","drag-class":"kanban-board__card-wrapper--drag",filter:t.filterSelectors,"prevent-on-filter":!1},on:{start:function(e){t.isDragging=!0},end:function(e){t.isDragging=!1}},model:{value:t.columnItems,callback:function(e){t.columnItems=e},expression:"columnItems"}},t._l(t.columnItems,(function(e,n){return a("KanbanBoardColumnCard",{key:n,attrs:{title:e},on:{"update-card":function(e){return t.updateCard(n,e)},"delete-card":function(){return t.deleteCard(n)}}})})),1),t.showCardForm?a("div",{staticClass:"kanban-board__column-block"},[a("ValidationProvider",{ref:"cardForm",attrs:{name:"card",mode:"passive",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,o=e.failed;return[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.cardTitle,expression:"formData.cardTitle"}],ref:"cardField",class:["kanban-board__form-control kanban-board__form-control--card-input",{"is-invalid":o}],attrs:{placeholder:t.$t("placeholders.card")},domProps:{value:t.formData.cardTitle},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.submitCardForm(e))},input:function(e){e.target.composing||t.$set(t.formData,"cardTitle",e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}],null,!1,2862569798)})],1):t._e(),a("div",{staticClass:"kanban-board__column-footer"},[t.showCardForm?[a("button",{staticClass:"kanban-board__save-button active-element",on:{click:t.submitCardForm}},[t._v(" "+t._s(t.$t("buttons.saveCard"))+" ")]),a("div",{staticClass:"spacer"}),a("button",{staticClass:"kanban-board__close-button active-element",on:{click:t.disableCardForm}},[a("img",{attrs:{src:n("bc49"),alt:"cross icon"}})])]:[a("button",{staticClass:"kanban-board__add-button active-element",on:{click:t.enableCardForm}},[a("img",{attrs:{src:n("0439"),alt:"plus icon"}}),t._v(" "+t._s(t.columnItems.length?t.$t("buttons.addCard"):t.$t("buttons.addFirstCard"))+" ")])]],2)],a("ModalWindow",{ref:"confirmModal",attrs:{text:t.$t("confirmation.column")}})],2)},d=[],u=(n("96cf"),n("1da1")),m=n("310e"),f=n.n(m),b=n("7bb1"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"kanban-board__card-wrapper"},[a("div",{staticClass:"kanban-board__card"},[t.editMode?a("ValidationProvider",{ref:"editForm",attrs:{name:"card",mode:"passive",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,o=e.failed;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.title,expression:"formData.title"}],ref:"editField",class:["kanban-board__form-control","kanban-board__form-control--edit-input",{"is-invalid":o}],attrs:{type:"text",placeholder:t.$t("placeholders.card")},domProps:{value:t.formData.title},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.submitEditForm(e))},input:function(e){e.target.composing||t.$set(t.formData,"title",e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))])]}}],null,!1,744687687)}):a("div",{staticClass:"kanban-board__card-content"},[a("p",[t._v(t._s(t.title))])]),a("div",{staticClass:"kanban-board__card-actions"},[a("button",{staticClass:"kanban-board__icon-button active-element",on:{click:t.toggleEditForm}},[a("img",{attrs:{src:n("77dd"),alt:"edit icon"}})]),a("button",{staticClass:"kanban-board__icon-button active-element",on:{click:t.deleteCard}},[a("img",{attrs:{src:n("3640"),alt:"trash icon"}})])])],1),a("ModalWindow",{ref:"confirmModal",attrs:{text:t.$t("confirmation.card")}})],1)},v=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["modal",{"modal--opened":t.isOpened}],attrs:{tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal__backdrop"}),a("div",{staticClass:"modal__dialog modal__dialog--centered",attrs:{role:"document"}},[a("div",{staticClass:"modal__content"},[t.title?a("div",{staticClass:"modal__header"},[a("h5",{staticClass:"modal__title"},[t._v(t._s(t.title))]),a("button",{staticClass:"modal__close-button active-element",on:{click:t.onCancel}},[a("img",{attrs:{src:n("bc49"),alt:"cross icon"}})])]):t._e(),a("div",{staticClass:"modal__body"},[a("p",[t._v(t._s(t.text))])]),a("div",{staticClass:"modal__footer"},[a("button",{staticClass:"modal__footer-button modal__footer-button--secondary active-element",attrs:{type:"button"},on:{click:t.onCancel}},[t._v(" Cancel ")]),a("button",{staticClass:"modal__footer-button modal__footer-button--primary active-element",attrs:{type:"button"},on:{click:t.onConfirm}},[t._v(" Confirm ")])])])])])},h=[],C={name:"ModalWindow",props:{title:{type:String,default:null},text:{type:String,required:!0}},data:function(){return{isOpened:!1,options:{}}},methods:{onConfirm:function(){if(this.isOpened){var t=this.options,e=t.data,n=t.onSuccess;this.close(),n&&n(e)}},onCancel:function(){if(this.isOpened){var t=this.options,e=t.data,n=t.onCancel;this.close(),n&&n(e)}},open:function(t,e,n){this.options={data:t,onSuccess:e,onCancel:n},this.isOpened=!0},close:function(){this.options={},this.isOpened=!1}}},k=C,g=n("2877"),y=Object(g["a"])(k,_,h,!1,null,null,null),F=y.exports,w={name:"KanbanBoardColumnCard",components:{ValidationProvider:b["a"],ModalWindow:F},props:{title:{type:String,required:!0}},data:function(){return{editMode:!1,formData:{title:""}}},methods:{toggleEditForm:function(){this.editMode?this.disableEditForm():this.enableEditForm()},enableEditForm:function(){var t=this;this.formData.title=this.title,this.editMode=!0,this.$nextTick((function(){t.$refs.editField.focus()}))},disableEditForm:function(){this.editMode=!1,this.resetForm()},submitEditForm:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.editForm.validate();case 2:n=e.sent,n.valid&&(t.$emit("update-card",t.formData.title),t.editMode=!1,t.resetForm());case 4:case"end":return e.stop()}}),e)})))()},resetForm:function(){this.formData.title="",this.$refs.editForm.reset()},deleteCard:function(){var t=this;this.$refs.confirmModal.open({},(function(){t.$emit("delete-card")}))}}},O=w,$=Object(g["a"])(O,p,v,!1,null,null,null),x=$.exports,j={name:"KanbanBoardColumn",components:{Draggable:f.a,ValidationProvider:b["a"],KanbanBoardColumnCard:x,ModalWindow:F},props:{title:{type:String,required:!0},cards:{type:Array,required:!0}},data:function(){return{isDragging:!1,showCardForm:!1,formData:{columnTitle:"",cardTitle:""},filterSelectors:".kanban-board__form-control--edit-input, .kanban-board__card-actions, .modal"}},computed:{columnItems:{get:function(){return this.cards},set:function(t){this.$emit("update-column",{cards:t})}},showTitleForm:function(){return!this.title&&!this.columnItems.length}},mounted:function(){this.showTitleForm&&this.$refs.titleField.focus()},methods:{disableTitleForm:function(){this.$emit("delete-column")},enableCardForm:function(){var t=this;this.showCardForm=!0,this.$nextTick((function(){t.$refs.cardField.focus()}))},disableCardForm:function(){this.showCardForm=!1,this.resetCardForm()},submitTitleForm:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.titleForm.validate();case 2:n=e.sent,n.valid&&(a=t.formData.columnTitle,t.$emit("store-column",{title:a}),t.resetTitleForm());case 4:case"end":return e.stop()}}),e)})))()},submitCardForm:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.cardForm.validate();case 2:n=e.sent,n.valid&&(a=[].concat(Object(l["a"])(t.columnItems),[t.formData.cardTitle]),t.$emit("update-column",{cards:a}),t.showCardForm=!1,t.resetCardForm());case 4:case"end":return e.stop()}}),e)})))()},updateCard:function(t,e){var n=this.columnItems.slice(0,t).concat([e].concat(Object(l["a"])(this.columnItems.slice(t+1))));this.$emit("update-column",{cards:n})},deleteCard:function(t){var e=this.columnItems.slice(0,t).concat(this.columnItems.slice(t+1));this.$emit("update-column",{cards:e})},resetTitleForm:function(){this.formData.columnTitle="",this.$refs.titleForm.reset()},resetCardForm:function(){this.formData.cardTitle="",this.$refs.cardForm.reset()},deleteColumn:function(){var t=this;this.$refs.confirmModal.open({},(function(){t.$emit("delete-column",!0)}))}}},D=j,E=Object(g["a"])(D,c,d,!1,null,null,null),T=E.exports,B={name:"KanbanBoard",components:{KanbanBoardColumn:T},data:function(){return{kanbanBoard:[]}},computed:{columns:function(){return this.$store.state.columns}},created:function(){this.kanbanBoard=this.columns},methods:{addColumn:function(){this.kanbanBoard=[].concat(Object(l["a"])(this.kanbanBoard),[{title:"",cards:[]}])},storeColumn:function(t,e){var n=Object.assign({},this.kanbanBoard[t],e);this.$store.dispatch("storeColumn",{index:t,newColumn:n}),this.updateKanbanBoard(t,n)},updateColumn:function(t,e){var n=Object.assign({},this.kanbanBoard[t],e);this.$store.dispatch("updateColumn",{index:t,newColumn:n}),this.updateKanbanBoard(t,n)},deleteColumn:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&this.$store.dispatch("deleteColumn",{index:t}),this.updateKanbanBoard(t)},updateKanbanBoard:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.kanbanBoard=e?this.kanbanBoard.slice(0,t).concat([e].concat(Object(l["a"])(this.kanbanBoard.slice(t+1)))):this.kanbanBoard.slice(0,t).concat(this.kanbanBoard.slice(t+1))}}},M=B,A=Object(g["a"])(M,i,s,!1,null,null,null),P=A.exports,S={name:"App",components:{KanbanBoard:P}},I=S,K=Object(g["a"])(I,o,r,!1,null,null,null),N=K.exports,L=(n("4160"),n("d3b7"),n("ac1f"),n("466d"),n("159b"),n("ddb0"),n("a925"));function V(){var t=n("4790"),e={};return t.keys().forEach((function(n){var a=n.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){var o=a[1];e[o]=t(n).default}})),e}a["a"].use(L["a"]);var q=new L["a"]({locale:Object({NODE_ENV:"production",BASE_URL:"/kanban-board-vue-js/"}).VUE_APP_I18N_LOCALE||"en",fallbackLocale:Object({NODE_ENV:"production",BASE_URL:"/kanban-board-vue-js/"}).VUE_APP_I18N_FALLBACK_LOCALE||"en",messages:V()}),R=n("2f62"),U={columns:[]},W=U,J={},z=J,Z={storeColumn:function(t,e){var n=t.commit;n("storeColumn",e)},updateColumn:function(t,e){var n=t.commit;n("updateColumn",e)},deleteColumn:function(t,e){var n=t.commit;n("deleteColumn",e)}},G=Z,H=(n("a434"),{storeColumn:function(t,e){var n=e.index,a=e.newColumn;t.columns.splice(n,0,a)},updateColumn:function(t,e){var n=e.index,a=e.newColumn;t.columns=t.columns.slice(0,n).concat([a].concat(Object(l["a"])(t.columns.slice(n+1))))},deleteColumn:function(t,e){var n=e.index;t.columns=t.columns.slice(0,n).concat(t.columns.slice(n+1))}}),Q=H,X=n("0e44");a["a"].use(R["a"]);var Y=new R["a"].Store({state:W,actions:G,getters:z,mutations:Q,plugins:[Object(X["a"])()]}),tt=n("4c93");Object(b["b"])({defaultMessage:function(t,e){return e._field_=q.t("fields.".concat(t)),q.t("validation.".concat(e._rule_),e)}}),Object(b["c"])("required",tt["a"]);n("29d8");a["a"].config.productionTip=!1,new a["a"]({i18n:q,store:Y,render:function(t){return t(N)}}).$mount("#app")},"77dd":function(t,e,n){t.exports=n.p+"img/pencil.618b94b0.svg"},b9ee:function(t,e,n){"use strict";n.r(e);var a=n("8de0"),o={buttons:{addFirstColumn:"Добавить колонку",addColumn:"Добавить еще одну колонку",addFirstCard:"Добавить карточку",addCard:"Добавить еще одну карточку",saveColumn:"Добавить колонку",saveCard:"Добавить карточку"},fields:{title:"'Название колонки'",card:"'Название карточки'"},placeholders:{title:"Введите название колонки",card:"Введите название карточки"},validation:a.messages,confirmation:{column:"Вы уверены что хотите удалить эту колонку?",card:"Вы уверены что хотите удалить эту карточку?"}};e["default"]=o},bc49:function(t,e,n){t.exports=n.p+"img/cross.e82c0deb.svg"}});
//# sourceMappingURL=app.8108c82e.js.map