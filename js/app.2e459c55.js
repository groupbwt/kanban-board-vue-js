(function(t){function e(e){for(var n,i,s=e[0],l=e[1],c=e[2],u=0,m=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==o[l]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},o={app:0},r=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/kanban-board-vue-js/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0439":function(t,e,a){t.exports=a.p+"img/plus.b4e7124a.svg"},"090b":function(t,e,a){"use strict";a.r(e);var n=a("2593"),o={buttons:{addFirstColumn:"Add your first column",addColumn:"Add another column",addFirstCard:"Add your first card",addCard:"Add another card",saveColumn:"Add column",saveCard:"Add card"},fields:{title:"'Column title'",card:"'Card title'"},placeholders:{title:"Enter column title",card:"Enter card title"},validation:n.messages,confirmation:{column:"Are you sure you want to delete this column?",card:"Are you sure you want to delete this card?"}};e["default"]=o},"29d8":function(t,e,a){},3640:function(t,e,a){t.exports=a.p+"img/delete.de1c34cf.svg"},4790:function(t,e,a){var n={"./en.js":"090b","./ru.js":"b9ee"};function o(t){var e=r(t);return a(e)}function r(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=r,t.exports=o,o.id="4790"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"kanban-board",attrs:{id:"app"}},[a("KanbanBoard")],1)},r=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"kanban-board__columns-list"},[t._l(t.kanbanBoard,(function(e,a){return n("KanbanBoardColumn",{key:a,attrs:{title:e.title,cards:e.cards},on:{"store-column":function(e){return t.storeColumn(a,e)},"update-column":function(e){return t.updateColumn(a,e)},"delete-column":function(e){return t.deleteColumn(a,e)}}})})),n("li",{staticClass:"kanban-board__column"},[n("div",{staticClass:"kanban-board__column-footer"},[n("button",{staticClass:"kanban-board__add-button",on:{click:t.addColumn}},[n("img",{attrs:{src:a("0439"),alt:"plus icon"}}),t._v(" "+t._s(t.kanbanBoard.length?t.$t("buttons.addColumn"):t.$t("buttons.addFirstColumn"))+" ")])])])],2)},s=[],l=(a("99af"),a("fb6a"),a("2909")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"kanban-board__column"},[t.showTitleForm?[n("div",{staticClass:"kanban-board__column-block"},[n("ValidationProvider",{ref:"titleForm",attrs:{name:"title",mode:"passive",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,o=e.failed;return[n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.columnTitle,expression:"formData.columnTitle"}],ref:"titleField",class:["kanban-board__form-control",{"is-invalid":o}],attrs:{type:"text",placeholder:t.$t("placeholders.title")},domProps:{value:t.formData.columnTitle},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitTitleForm(e)},input:function(e){e.target.composing||t.$set(t.formData,"columnTitle",e.target.value)}}}),n("div",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])]}}],null,!1,3415365688)})],1),n("div",{staticClass:"kanban-board__column-footer"},[n("button",{staticClass:"kanban-board__save-button",on:{click:t.submitTitleForm}},[t._v(" "+t._s(t.$t("buttons.saveColumn"))+" ")]),n("div",{staticClass:"spacer"}),n("button",{staticClass:"kanban-board__close-button",on:{click:t.disableTitleForm}},[n("img",{attrs:{src:a("bc49"),alt:"cross icon"}})])])]:[n("div",{staticClass:"kanban-board__column-header"},[n("h4",[t._v(t._s(t.title))]),n("button",{staticClass:"kanban-board__icon-button",on:{click:t.deleteColumn}},[n("img",{attrs:{src:a("3640"),alt:"trash icon"}})])]),n("Draggable",{class:["kanban-board__cards-list",{"kanban-board__cards-list--empty":!t.columnItems.length},{"kanban-board__cards-list--dragging":t.isDragging}],attrs:{tag:"ul",group:"cards","ghost-class":"kanban-board__card-wrapper--ghost","drag-class":"kanban-board__card-wrapper--drag",filter:t.filterSelectors,"prevent-on-filter":!1},on:{start:function(e){t.isDragging=!0},end:function(e){t.isDragging=!1}},model:{value:t.columnItems,callback:function(e){t.columnItems=e},expression:"columnItems"}},t._l(t.columnItems,(function(e,a){return n("KanbanBoardColumnCard",{key:a,attrs:{title:e},on:{"update-card":function(e){return t.updateCard(a,e)},"delete-card":function(){return t.deleteCard(a)}}})})),1),t.showCardForm?n("div",{staticClass:"kanban-board__column-block"},[n("ValidationProvider",{ref:"cardForm",attrs:{name:"card",mode:"passive",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,o=e.failed;return[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.cardTitle,expression:"formData.cardTitle"}],ref:"cardField",class:["kanban-board__form-control kanban-board__form-control--card-input",{"is-invalid":o}],attrs:{placeholder:t.$t("placeholders.card")},domProps:{value:t.formData.cardTitle},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitCardForm(e)},input:function(e){e.target.composing||t.$set(t.formData,"cardTitle",e.target.value)}}}),n("div",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])]}}],null,!1,56329832)})],1):t._e(),n("div",{staticClass:"kanban-board__column-footer"},[t.showCardForm?[n("button",{staticClass:"kanban-board__save-button",on:{click:t.submitCardForm}},[t._v(" "+t._s(t.$t("buttons.saveCard"))+" ")]),n("div",{staticClass:"spacer"}),n("button",{staticClass:"kanban-board__close-button",on:{click:t.disableCardForm}},[n("img",{attrs:{src:a("bc49"),alt:"cross icon"}})])]:[n("button",{staticClass:"kanban-board__add-button",on:{click:t.enableCardForm}},[n("img",{attrs:{src:a("0439"),alt:"plus icon"}}),t._v(" "+t._s(t.columnItems.length?t.$t("buttons.addCard"):t.$t("buttons.addFirstCard"))+" ")])]],2)],n("ModalWindow",{ref:"confirmModal",attrs:{text:t.$t("confirmation.column")}})],2)},d=[],u=(a("96cf"),a("1da1")),m=a("310e"),f=a.n(m),b=a("7bb1"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"kanban-board__card-wrapper"},[n("div",{staticClass:"kanban-board__card"},[t.editMode?n("ValidationProvider",{ref:"editForm",attrs:{name:"card",mode:"passive",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,o=e.failed;return[n("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.title,expression:"formData.title"}],ref:"editField",class:["kanban-board__form-control","kanban-board__form-control--edit-input",{"is-invalid":o}],attrs:{type:"text",placeholder:t.$t("placeholders.card")},domProps:{value:t.formData.title},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitEditForm(e)},input:function(e){e.target.composing||t.$set(t.formData,"title",e.target.value)}}}),n("div",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])]}}],null,!1,2053574185)}):n("div",{staticClass:"kanban-board__card-content"},[n("p",[t._v(t._s(t.title))])]),n("div",{staticClass:"kanban-board__card-actions"},[n("button",{staticClass:"kanban-board__icon-button",on:{click:t.toggleEditForm}},[n("img",{attrs:{src:a("77dd"),alt:"edit icon"}})]),n("button",{staticClass:"kanban-board__icon-button",on:{click:t.deleteCard}},[n("img",{attrs:{src:a("3640"),alt:"trash icon"}})])])],1),n("ModalWindow",{ref:"confirmModal",attrs:{text:t.$t("confirmation.card")}})],1)},_=[],v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["modal",{"modal--opened":t.isOpened}],attrs:{tabindex:"-1",role:"dialog","aria-hidden":"true"}},[n("div",{staticClass:"modal__backdrop"}),n("div",{staticClass:"modal__dialog modal__dialog--centered",attrs:{role:"document"}},[n("div",{staticClass:"modal__content"},[t.title?n("div",{staticClass:"modal__header"},[n("h5",{staticClass:"modal__title"},[t._v(t._s(t.title))]),n("button",{staticClass:"modal__close-button",on:{click:t.onCancel}},[n("img",{attrs:{src:a("bc49"),alt:"cross icon"}})])]):t._e(),n("div",{staticClass:"modal__body"},[n("p",[t._v(t._s(t.text))])]),n("div",{staticClass:"modal__footer"},[n("button",{staticClass:"modal__footer-button modal__footer-button--secondary",attrs:{type:"button"},on:{click:t.onCancel}},[t._v(" Cancel ")]),n("button",{staticClass:"modal__footer-button modal__footer-button--primary",attrs:{type:"button"},on:{click:t.onConfirm}},[t._v(" Confirm ")])])])])])},h=[],C={name:"ModalWindow",props:{title:{type:String,default:null},text:{type:String,required:!0}},data:function(){return{isOpened:!1,options:{}}},methods:{onConfirm:function(){if(this.isOpened){var t=this.options,e=t.data,a=t.onSuccess;this.close(),a&&a(e)}},onCancel:function(){if(this.isOpened){var t=this.options,e=t.data,a=t.onCancel;this.close(),a&&a(e)}},open:function(t,e,a){this.options={data:t,onSuccess:e,onCancel:a},this.isOpened=!0},close:function(){this.options={},this.isOpened=!1}}},k=C,g=a("2877"),y=Object(g["a"])(k,v,h,!1,null,null,null),F=y.exports,w={name:"KanbanBoardColumnCard",components:{ValidationProvider:b["a"],ModalWindow:F},props:{title:{type:String,required:!0}},data:function(){return{editMode:!1,formData:{title:""}}},methods:{toggleEditForm:function(){this.editMode?this.disableEditForm():this.enableEditForm()},enableEditForm:function(){var t=this;this.formData.title=this.title,this.editMode=!0,this.$nextTick((function(){t.$refs.editField.focus()}))},disableEditForm:function(){this.editMode=!1,this.resetForm()},submitEditForm:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.editForm.validate();case 2:a=e.sent,a.valid&&(t.$emit("update-card",t.formData.title),t.editMode=!1,t.resetForm());case 4:case"end":return e.stop()}}),e)})))()},resetForm:function(){this.formData.title="",this.$refs.editForm.reset()},deleteCard:function(){var t=this;this.$refs.confirmModal.open({},(function(){t.$emit("delete-card")}))}}},O=w,$=Object(g["a"])(O,p,_,!1,null,null,null),x=$.exports,j={name:"KanbanBoardColumn",components:{Draggable:f.a,ValidationProvider:b["a"],KanbanBoardColumnCard:x,ModalWindow:F},props:{title:{type:String,required:!0},cards:{type:Array,required:!0}},data:function(){return{isDragging:!1,showCardForm:!1,formData:{columnTitle:"",cardTitle:""},filterSelectors:".kanban-board__form-control--edit-input, .kanban-board__card-actions"}},computed:{columnItems:{get:function(){return this.cards},set:function(t){this.$emit("update-column",{cards:t})}},showTitleForm:function(){return!this.title&&!this.columnItems.length}},mounted:function(){this.showTitleForm&&this.$refs.titleField.focus()},methods:{disableTitleForm:function(){this.$emit("delete-column")},enableCardForm:function(){var t=this;this.showCardForm=!0,this.$nextTick((function(){t.$refs.cardField.focus()}))},disableCardForm:function(){this.showCardForm=!1,this.resetCardForm()},submitTitleForm:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.titleForm.validate();case 2:a=e.sent,a.valid&&(n=t.formData.columnTitle,t.$emit("store-column",{title:n}),t.resetTitleForm());case 4:case"end":return e.stop()}}),e)})))()},submitCardForm:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.cardForm.validate();case 2:a=e.sent,a.valid&&(n=[].concat(Object(l["a"])(t.columnItems),[t.formData.cardTitle]),t.$emit("update-column",{cards:n}),t.showCardForm=!1,t.resetCardForm());case 4:case"end":return e.stop()}}),e)})))()},updateCard:function(t,e){var a=this.columnItems.slice(0,t).concat([e].concat(Object(l["a"])(this.columnItems.slice(t+1))));this.$emit("update-column",{cards:a})},deleteCard:function(t){var e=this.columnItems.slice(0,t).concat(this.columnItems.slice(t+1));this.$emit("update-column",{cards:e})},resetTitleForm:function(){this.formData.columnTitle="",this.$refs.titleForm.reset()},resetCardForm:function(){this.formData.cardTitle="",this.$refs.cardForm.reset()},deleteColumn:function(){var t=this;this.$refs.confirmModal.open({},(function(){t.$emit("delete-column",!0)}))}}},D=j,E=Object(g["a"])(D,c,d,!1,null,null,null),T=E.exports,B={name:"KanbanBoard",components:{KanbanBoardColumn:T},data:function(){return{kanbanBoard:[]}},computed:{columns:function(){return this.$store.state.columns}},created:function(){this.kanbanBoard=this.columns},methods:{addColumn:function(){this.kanbanBoard=[].concat(Object(l["a"])(this.kanbanBoard),[{title:"",cards:[]}])},storeColumn:function(t,e){var a=Object.assign({},this.kanbanBoard[t],e);this.$store.dispatch("storeColumn",{index:t,newColumn:a}),this.updateKanbanBoard(t,a)},updateColumn:function(t,e){var a=Object.assign({},this.kanbanBoard[t],e);this.$store.dispatch("updateColumn",{index:t,newColumn:a}),this.updateKanbanBoard(t,a)},deleteColumn:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&this.$store.dispatch("deleteColumn",{index:t}),this.updateKanbanBoard(t)},updateKanbanBoard:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.kanbanBoard=e?this.kanbanBoard.slice(0,t).concat([e].concat(Object(l["a"])(this.kanbanBoard.slice(t+1)))):this.kanbanBoard.slice(0,t).concat(this.kanbanBoard.slice(t+1))}}},M=B,A=Object(g["a"])(M,i,s,!1,null,null,null),P=A.exports,S={name:"App",components:{KanbanBoard:P}},I=S,K=Object(g["a"])(I,o,r,!1,null,null,null),N=K.exports,L=(a("4160"),a("d3b7"),a("ac1f"),a("466d"),a("159b"),a("ddb0"),a("a925"));function V(){var t=a("4790"),e={};return t.keys().forEach((function(a){var n=a.match(/([A-Za-z0-9-_]+)\./i);if(n&&n.length>1){var o=n[1];e[o]=t(a).default}})),e}n["a"].use(L["a"]);var q=new L["a"]({locale:Object({NODE_ENV:"production",BASE_URL:"/kanban-board-vue-js/"}).VUE_APP_I18N_LOCALE||"en",fallbackLocale:Object({NODE_ENV:"production",BASE_URL:"/kanban-board-vue-js/"}).VUE_APP_I18N_FALLBACK_LOCALE||"en",messages:V()}),R=a("2f62"),U={columns:[]},W=U,J={},z=J,Z={storeColumn:function(t,e){var a=t.commit;a("storeColumn",e)},updateColumn:function(t,e){var a=t.commit;a("updateColumn",e)},deleteColumn:function(t,e){var a=t.commit;a("deleteColumn",e)}},G=Z,H=(a("a434"),{storeColumn:function(t,e){var a=e.index,n=e.newColumn;t.columns.splice(a,0,n)},updateColumn:function(t,e){var a=e.index,n=e.newColumn;t.columns=t.columns.slice(0,a).concat([n].concat(Object(l["a"])(t.columns.slice(a+1))))},deleteColumn:function(t,e){var a=e.index;t.columns=t.columns.slice(0,a).concat(t.columns.slice(a+1))}}),Q=H,X=a("0e44");n["a"].use(R["a"]);var Y=new R["a"].Store({state:W,actions:G,getters:z,mutations:Q,plugins:[Object(X["a"])()]}),tt=a("4c93");Object(b["b"])({defaultMessage:function(t,e){return e._field_=q.t("fields.".concat(t)),q.t("validation.".concat(e._rule_),e)}}),Object(b["c"])("required",tt["a"]);a("29d8");n["a"].config.productionTip=!1,new n["a"]({i18n:q,store:Y,render:function(t){return t(N)}}).$mount("#app")},"77dd":function(t,e,a){t.exports=a.p+"img/pencil.618b94b0.svg"},b9ee:function(t,e,a){"use strict";a.r(e);var n=a("8de0"),o={buttons:{addFirstColumn:"Добавить колонку",addColumn:"Добавить еще одну колонку",addFirstCard:"Добавить карточку",addCard:"Добавить еще одну карточку",saveColumn:"Добавить колонку",saveCard:"Добавить карточку"},fields:{title:"'Название колонки'",card:"'Название карточки'"},placeholders:{title:"Введите название колонки",card:"Введите название карточки"},validation:n.messages,confirmation:{column:"Вы уверены что хотите удалить эту колонку?",card:"Вы уверены что хотите удалить эту карточку?"}};e["default"]=o},bc49:function(t,e,a){t.exports=a.p+"img/cross.e82c0deb.svg"}});
//# sourceMappingURL=app.2e459c55.js.map